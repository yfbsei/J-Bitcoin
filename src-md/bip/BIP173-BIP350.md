# Bech32 / Bech32m Address Encoding — `BIP173-BIP350.js`

This module implements the complete [BIP173](https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki) and [BIP350](https://github.com/bitcoin/bips/blob/master/bip-0350.mediawiki) specifications used to encode SegWit addresses. It provides strict human-readable part (HRP) validation, checksum generation, and witness program conversion utilities.

Key features:

- ✔️ Encode witness programs into Bech32 or Bech32m strings
- ✔️ Decode and validate addresses with checksum and case checks
- 🔄 Bit-width conversion helpers for 8‑bit to 5‑bit groups
- 🔒 Custom `Bech32Error` for precise error reporting

---

## 🧪 Examples

### Encode a P2WPKH Address
```js
import { BECH32 } from './BIP173-BIP350.js';

const program = new Uint8Array(20).fill(0); // witness program
const address = BECH32.encode('bc', program, 'bech32');
console.log(address);
```

### Decode a Bech32m Address
```js
const info = BECH32.decode('bc1p...');
console.log(info.hrp);
console.log(info.encoding); // 'bech32m'
```

---

## 🧠 API Reference

### `BECH32.encode(prefix, data, encoding = 'bech32')`
Returns a valid Bech32/Bech32m string.

### `BECH32.decode(address, expectedHrp?)`
Parses and validates an address and returns `{ hrp, data, encoding }`.

### `BECH32.verifyChecksum(hrp, data, encoding)`
Validates the checksum for a given HRP and data array.

### `BECH32.createChecksum(hrp, data, encoding)`
Generates the checksum bytes for an address.

### `EnhancedBitConverter.convertBits(data, fromBits, toBits, pad = true)`
Converts between bit groups (e.g. 8‑bit to 5‑bit) with optional padding.

**Exports:** `Bech32Error`, `Bech32Validator`, `EnhancedBitConverter`, `BECH32_CONSTANTS`, `OFFICIAL_TEST_VECTORS`, and `BECH32`.

