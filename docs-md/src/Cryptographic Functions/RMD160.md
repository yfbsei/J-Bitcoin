# RIPEMD160 JavaScript Implementation

This module implements the **RIPEMD160 cryptographic hash function** in pure JavaScript. RIPEMD160 produces a 160-bit (20-byte) hash and is a core component of Bitcoin's address generation via the HASH160 operation (SHA256 followed by RIPEMD160).

---

## 📖 Description

RIPEMD160 is a secure hashing algorithm widely used in Bitcoin and other blockchain systems. It generates compact, secure hashes ideal for cryptographic operations such as:

- Address generation (e.g. `HASH160(pubKey)`)
- Signature validation
- Compact key identifiers

This implementation supports hashing strings, buffers, and typed arrays and is compatible with known test vectors and Bitcoin's internal hashing mechanism.

---

## 🧪 Example Usage

```js
import rmd160 from './rmd160.js';
import { createHash } from 'crypto';

// Basic string hashing
const message = Buffer.from('Hello Bitcoin!', 'utf8');
const hash = rmd160(message);
console.log(hash.toString('hex')); 
// b6a9c8c230722b7c748331a8b450f05566dc7d0f

// HASH160 Bitcoin style
const publicKey = Buffer.from('0339a36013301597daef41fbe593a02cc513d0b55527ec2df1050e2e8ff49c85c2', 'hex');
const sha256 = createHash('sha256').update(publicKey).digest();
const hash160 = rmd160(sha256);
console.log(hash160.toString('hex'));
```

---

## 🔍 API Reference

### `rmd160(buffer: Buffer | Uint8Array | ArrayBuffer): Buffer`

**Description:**  
Computes a 20-byte RIPEMD160 hash from the input data.

**Parameters:**

- `buffer`: The input data. Can be a `Buffer`, `Uint8Array`, or `ArrayBuffer`.

**Returns:**

- A `Buffer` containing the 20-byte RIPEMD160 hash.

**Throws:**

- If input is not a valid buffer-like object.

---

## ✅ Test Vectors

```js
[
  { input: '', expected: '9c1185a5c5e9fc54612808977ee8f548b2258d31' },
  { input: 'a', expected: '0bdc9d2d256b3ee9daae347be6f4dc835a467ffe' },
  { input: 'abc', expected: '8eb208f7e05d987a9b044a8e98c6b087f15a0bfc' },
].forEach(({ input, expected }) => {
  const result = rmd160(Buffer.from(input, 'utf8')).toString('hex');
  console.log(\`Input: "\${input}"\nExpected: \${expected}\nGot:      \${result}\nMatch:    \${result === expected}\n\`);
});
```

---

## 🚀 Performance

```js
function benchmarkRipemd160() {
  const testData = Buffer.alloc(1024, 0xaa);
  const iterations = 1000;

  const start = Date.now();
  for (let i = 0; i < iterations; i++) rmd160(testData);
  const duration = Date.now() - start;

  console.log(\`Avg time: \${(duration / iterations).toFixed(2)}ms per 1KB\`);
}
```

---

## 🔐 Security

- **Collision resistance:** ~2^80 operations required
- **Preimage resistance:** Safe for key identifiers and address hashing
- **Bitcoin-safe:** Used in Bitcoin since genesis block

---

## 📚 References

- [RIPEMD160 Wikipedia](https://en.wikipedia.org/wiki/RIPEMD)
- [RIPEMD160 Spec](https://homes.esat.kuleuven.be/~bosselae/ripemd160.html)
- [Bitcoin Address Generation](https://en.bitcoin.it/wiki/Technical_background_of_version_1_Bitcoin_addresses)

---

© 2025 yfbsei | Licensed under MIT
